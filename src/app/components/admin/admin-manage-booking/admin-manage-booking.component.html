<!DOCTYPE html>
<html>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body style="background-color:rgb(129, 153, 156);">

  <!-- Links (sit on top) -->
  <div class="w3-top">
    <div class="w3-row w3-large w3-light-grey">
      <div class="w3-col s3">
        <a routerLink="/adminmain" class="w3-button w3-block">Home</a>
      </div>
      <div class="w3-col s3">
        <a routerLink="/adminmanagebooking" class="w3-button w3-block">Booking</a>
      </div>
      <div class="w3-col s3">
        <a routerLink="/adminmanagecustomer" class="w3-button w3-block">Customer</a>
      </div>
      <div class="w3-col s3" (click)="onClickSignOut()">
        <a class="w3-button w3-block">Sign Out</a>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="w3-content" style="max-width:1200px;margin-top:30px;margin-bottom:80px">
    <div class=" w3-center w3-padding-64">
      <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Manage Booking</span>
    </div>
    <!-- Table -->
    <div class="w3-center">
      <div class="w3-row w3-large w3-light-grey" id="corner">
        <div class="w3-content w3-padding" style="max-width:1200px">
          <table>
            <tr>
              <th>No</th>
              <th>Booking Id</th>
              <th>User Id</th>
              <th>Room Name</th>
              <th>Check-In Date</th>
              <th>Check-Out Date</th>
              <th>Payment Type</th>
              <th>Amount</th>
              <th>Booking Status</th>
            </tr>
            <tr *ngFor="let booking of bookings">
              <td class="w3-center counter"></td>
              <td class="w3-center">{{ booking.booking_id }}</td>
              <td>{{ booking.user_id }}</td>
              <td>{{ booking.room_name }}</td>
              <td>{{ booking.checkin_date | date}}</td>
              <td>{{ booking.checkout_date | date }}</td>
              <td>{{ booking.payment_type }}</td>
              <td>{{ booking.amount }}</td>
              <td>
                <div *ngIf="booking.booking_status == 'Pending'">
                  <select class="w3-select w3-border" name="booking_status"
                    (change)="onChangeStatus($event, booking.booking_id)">
                    <option value="Pending">Pending</option>
                    <option value="Confirmed">Confirm</option>
                    <option value="Cancelled">Cancel</option>
                  </select>
                </div>
                <div *ngIf="booking.booking_status == 'Confirmed' ">
                  <select class="w3-select w3-border" name="booking_status"
                    (change)="onChangeStatus($event, booking.booking_id)">
                    <option value="Confirmed">Confirm</option>
                    <option value="Check-In">Check-In</option>
                    <option value="Cancelled">Cancel</option>
                  </select>
                </div>
                <div *ngIf="booking.booking_status == 'Check-In' ">
                  <select class="w3-select w3-border" name="booking_status"
                    (change)="onChangeStatus($event, booking.booking_id)">
                    <option value="Check-In">Check-In</option>
                    <option value="Check-Out">Check-Out</option>
                    <option value="Cancelled">Cancel</option>
                  </select>
                </div>
                <div *ngIf="booking.booking_status == 'Cancelled' ">
                  {{booking.booking_status}}
                </div>
                <div *ngIf="booking.booking_status == 'Check-Out' ">
                  {{booking.booking_status}}
                </div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

</body>

</html>
